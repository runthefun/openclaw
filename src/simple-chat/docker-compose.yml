services:
  simple-chat:
    build:
      context: ../..
      dockerfile: src/simple-chat/Dockerfile
    environment:
      HOME: /home/node
      SIMPLE_CHAT_JWT_PUBLIC_KEY: ${SIMPLE_CHAT_JWT_PUBLIC_KEY}
      SIMPLE_CHAT_JWT_ALGORITHM: ${SIMPLE_CHAT_JWT_ALGORITHM:-EdDSA}
      SIMPLE_CHAT_JWT_ISSUER: ${SIMPLE_CHAT_JWT_ISSUER:-}
      SIMPLE_CHAT_JWT_AUDIENCE: ${SIMPLE_CHAT_JWT_AUDIENCE:-}
      OPENROUTER_API_KEY: ${OPENROUTER_API_KEY:-}
      OPENCLAW_CONFIG_PATH: /home/node/.openclaw/openclaw.json
    volumes:
      - ${OPENCLAW_CONFIG_DIR:-./.openclaw}:/home/node/.openclaw
    ports:
      - "${SIMPLE_CHAT_PORT:-3000}:3000"
    init: true
    restart: unless-stopped
